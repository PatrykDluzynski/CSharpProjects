{% extends "main.html" %}

{% block title %}
    Predict
{% endblock %}

{% block main %}
    <div class="row justify-content-center">
        <div class="col-9 text-center mt-5">
            <h1>Please upload your images.</h1>
            <p><small>Better quality images with the pet on its own yield better results</small></p>
            <form action="/predict" method="post" enctype="multipart/form-data">
                <div class="form-group mt-4">
                    <div class='custom-file mt-2'>
                        <input type='file' class='custom-file-input' id='Files' name='Files' multiple>
                        <label class='custom-file-label' for='Files'>Choose files...</label>
                        <h5 class="mt-3 mb-2">Selected file names:</h5>
                        <div id="selected-files"></div>
                    </div>
                </div>
                <button class="btn btn-primary" type="submit">Submit</button>
            </form>
        </div>
    </div>
    <script>
    var selDiv = "";
        
    document.addEventListener("DOMContentLoaded", init, false);
    
    function init() {
        document.querySelector('#Files').addEventListener('change', handleFileSelect, false);
        selDiv = document.querySelector("#selected-files");
    }
        
    function handleFileSelect(e) {
        
        if(!e.target.files) return;
        
        selDiv.innerHTML = "";
        
        var files = e.target.files;
        for(var i=0; i<files.length; i++) {
            var f = files[i];
            
            selDiv.innerHTML += f.name + "<br/>";

        }
        
    }
    </script>
    <!-- <script>
    $("input[name*='File']").on('change',function(){
        //get the file name
        var fileName = $(this).val().replace('C:\\fakepath\\', " ");
        //replace the "Choose a file" label
        $(this).next('.custom-file-label').html(fileName);
    })
    </script> -->

{% endblock %}